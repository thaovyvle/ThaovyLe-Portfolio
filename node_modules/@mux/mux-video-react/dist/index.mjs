"use client";import{useEffect as V,useRef as k}from"react";var m=(...r)=>{let a=k(null);return V(()=>{r.forEach(n=>{n&&(typeof n=="function"?n(a.current):n.current=a.current)})},[r]),a};import T,{useEffect as s,useRef as R,useState as M}from"react";import e from"prop-types";import{allMediaTypes as L,initialize as w,teardown as H,StreamTypes as I,PlaybackTypes as h,toMuxVideoURL as O,generatePlayerInitTime as N,CmcdTypes as A}from"@mux/playback-core";var j=()=>{try{return"0.11.0"}catch{}return"UNKNOWN"},S=j(),b=()=>S;var D=b(),U="mux-video-react",u=T.forwardRef((r,a)=>{var y;let{playbackId:n,src:c,children:P,autoPlay:l,preload:p,...g}=r,E=Object.fromEntries(Object.entries(g).filter(([t])=>!Object.keys(u.propTypes).includes(t))),[x]=M(N()),[f,C]=M((y=O(r))!=null?y:c),o=R(void 0),v=R(null),d=m(v,a);return s(()=>{var t;C((t=O(r))!=null?t:c)},[c,n]),s(()=>{let t={...r,src:f,playerInitTime:x,playerSoftwareName:U,playerSoftwareVersion:D,autoplay:l},i=d.current;return i&&(o.current=w(t,i,o.current)),()=>{H(i,o.current),i=void 0,o.current=void 0}},[f]),s(()=>{var t;(t=o.current)==null||t.setAutoplay(l)},[l]),s(()=>{var t;(t=o.current)==null||t.setPreload(p)},[p]),T.createElement("video",{ref:d,...E},P)});u.propTypes={_hlsConfig:e.any,beaconCollectionDomain:e.string,customDomain:e.string,debug:e.bool,disableCookies:e.bool,disableTracking:e.bool,envKey:e.string,errorTranslator:e.any,liveEdgeStart:e.number,maxResolution:e.oneOf(["720p","1080p","1440p","2160p"]),metadata:e.any,minResolution:e.oneOf(["480p","540p","720p","1080p","1440p","2160p"]),playbackId:e.string,playerInitTime:e.number,preferCmcd:e.oneOf(Object.values(A)),preferPlayback:e.oneOf(Object.values(h)),programStartTime:e.number,programEndTime:e.number,renditionOrder:e.oneOf(["desc"]),startTime:e.number,streamType:e.oneOf(Object.values(I)),targetLiveWindow:e.number,tokens:e.any,type:e.oneOf(L)};var Q=u;export{Q as default};
//# sourceMappingURL=index.mjs.map
